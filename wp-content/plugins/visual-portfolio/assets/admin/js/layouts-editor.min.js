!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=10)}({0:function(t,e,a){"use strict";function n(t,e,a,n){var i,o=!1,r=0;function l(){i&&clearTimeout(i)}function c(){var c=this,s=Date.now()-r,d=arguments;function p(){r=Date.now(),a.apply(c,d)}o||(n&&!i&&p(),l(),void 0===n&&s>t?p():!0!==e&&(i=setTimeout(n?function(){i=void 0}:p,void 0===n?t-s:t)))}return"boolean"!=typeof e&&(n=a,a=e,e=void 0),c.cancel=function(){l(),o=!0},c}function i(t,e,a){return void 0===a?n(t,e,!1):n(t,a,!1!==e)}a.d(e,"b",function(){return n}),a.d(e,"a",function(){return i})},10:function(t,e,a){t.exports=a(11)},11:function(t,e,a){"use strict";a.r(e);var n=a(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}
/*!
 * Name    : Visual Portfolio
 * Version : @@plugin_version
 * Author  : nK https://nkdev.info
 */(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=jQuery,l=window,c=l.ajaxurl,s=l.VPAdminVariables,d=l.CodeMirror,p=l.emmetCodeMirror,v=r("body"),u=r(window),f=r('form[name="post"]'),m=r("#postID, #post_ID").eq(0).val(),g=r(".vp-content-source"),h=g.find('[name="vp_content_source"]');g.on("click",".vp-content-source__item",function(){var t=r(this).attr("data-content");g.find('[data-content="'.concat(t,'"]')).addClass("active").siblings().removeClass("active"),h.val(t).change()}),g.children('[data-content="'.concat(h.val(),'"]')).click(),r.fn.conditionize&&f.conditionize(),r(".vp-control-range").each(function(){var t=r(this).find("input"),e=t.filter('[type="hidden"]');t.on("change input",function(a){t.val(r(this).val()),e.trigger("vp-fake-".concat(a.type))})}),r.fn.wpColorPicker&&r(".vp-color-picker").each(function(){r(this).data("change",Object(n.a)(300,function(t){r(t.target).change()})).wpColorPicker()}),r.fn.imagepicker&&r(".vp-image-picker").imagepicker();var _=r(".vp_list_preview iframe"),y=!1,b=!1,w=r('<form target="vp_list_preview_iframe" method="post" style="display: none">').attr("action",_.attr("src")).insertAfter(f);function k(){var t="",e=r('[name="vp_controls_styles"]'),a=".vp-id-".concat(m),n=e.val();r('.vp-control-style [type="hidden"]').each(function(){var e=r(this),n=e.closest(".vp-control");if("none"!==n.css("display")){var i=(e.attr("data-style-mask")||"$").replace("$",n.find(e.attr("data-style-from")).val()),o=a+" "+e.attr("data-style-element"),l=e.attr("data-style-property");t&&(t+=" "),t+="".concat(o," { ").concat(l,": ").concat(i,"; }")}}),n!==t&&e.val(t).trigger("vp-fake-change")}function C(){b=!1,y=!1,w.submit()}r.fn.iFrameResize&&_.iFrameResize({interval:10}),C=Object(n.a)(400,C),f.on("change input vp-fake-change vp-fake-input",'[name*="vp_"]',function(t){var e=r(this);if(!e.closest(".vp-no-reload").length)if(r('[name="'.concat(e.attr("name"),'__style[]"]')).length)k();else{var a={name:e.attr("name"),value:e.is("[type=checkbox], [type=radio]")?e.is(":checked"):e.val(),reload:"change"===t.type||"vp-fake-change"===t.type,jQuery:b,$portfolio:y},n=w.find('[name="'.concat(a.name,'"]'));n.length||(n=r('<input type="hidden" name="'.concat(a.name,'" />')).appendTo(w)),n.attr("value",a.value),u.trigger("vp-preview-change",a),a.reload||k(),!a.reload&&y||C()}}),_.on("load",function(){b=this.contentWindow.jQuery,y=b(".vp-portfolio"),k()}),u.on("vp-preview-change",function(t,e){if(e.$portfolio)switch(e.name){case"vp_layout":case"vp_tiles_type":case"vp_masonry_columns":case"vp_grid_columns":case"vp_justified_row_height":case"vp_justified_row_height_tolerance":case"vp_slider_effect":case"vp_slider_speed":case"vp_slider_autoplay":case"vp_slider_autoplay_hover_pause":case"vp_slider_centered_slides":case"vp_slider_loop":case"vp_slider_free_mode":case"vp_slider_free_mode_sticky":case"vp_slider_arrows":case"vp_slider_arrows_icon_prev":case"vp_slider_arrows_icon_next":case"vp_slider_bullets":case"vp_slider_bullets_dynamic":case"vp_items_gap":var a=e.name;a=(a=a.substring(3)).replace(/_/g,"-"),e.$portfolio.attr("data-vp-".concat(a),e.value),e.$portfolio.vpf("init"),e.reload=!1;break;case"vp_filter_align":e.$portfolio.find(".vp-filter").removeClass("vp-filter__align-center vp-filter__align-left vp-filter__align-right").addClass("vp-filter__align-".concat(e.value)),e.reload=!1;break;case"vp_sort_align":e.$portfolio.find(".vp-sort").removeClass("vp-sort__align-center vp-sort__align-left vp-sort__align-right").addClass("vp-sort__align-".concat(e.value)),e.reload=!1;break;case"vp_pagination_align":e.$portfolio.find(".vp-pagination").removeClass("vp-pagination__align-center vp-pagination__align-left vp-pagination__align-right").addClass("vp-pagination__align-".concat(e.value)),e.reload=!1;break;case"vp_controls_styles":var n=e.$portfolio.closest("html"),i="vp-controls-styles-".concat(m,"-inline-css"),o=n.find("#".concat(i));o.length||(o=e.jQuery('<style id="'.concat(i,'">')),n.find("body").prepend(o)),o.html(e.value),e.reload=!1;break;case"vp_custom_css":var r=e.$portfolio.closest("html"),l="vp-custom-css-".concat(m,"-inline-css"),c=r.find("#".concat(l));c.length||(c=e.jQuery('<style id="'.concat(l,'">')),r.find("body").prepend(c)),c.html(e.value),e.reload=!1;break;case"vp_list_name":case"vp_stretch":e.reload=!1}}),v.on("click",".vp-control-image-dropdown",function(t){r(t.target).closest(".vp-control-image-dropdown__content").length||r(this).toggleClass("active")}),v.on("mousedown",function(t){var e=r(t.target).closest(".vp-control-image-dropdown");r(".vp-control-image-dropdown.active").each(function(){this!==e[0]&&r(this).removeClass("active")})}),v.on("change",".vp-control-image-dropdown .vp-image-picker",function(){var t=r(this),e=t.data("picker");if(e){var a=e.select.find('option[value="'.concat(e.select.val(),'"]')),n=a.parent("optgroup"),i=t.closest(".vp-control-image-dropdown"),o=a.attr("data-img-src");i.length&&(i.children(".vp-control-image-dropdown__preview").html('<img src="'.concat(o,'" alt="">')),n.length&&i.children(".vp-control-image-dropdown__title").html(n.attr("label")))}});var x=r('[name="vp_list_name"]'),j=r('[name="post_title"]');x.length&&j.length&&(x.on("input",function(){j.val()!==x.val()&&j.val(x.val()).change()}),j.on("input",function(){x.val(j.val())})),r.fn.select2&&r(".vp-select2").each(function(){var t=r(this),e={width:"100%",minimumResultsForSearch:t.hasClass("vp-select2-nosearch")?-1:1,tags:t.hasClass("vp-select2-tags")},a=!!t.attr("data-post-type")&&r(t.attr("data-post-type"));t.closest(".vp-select2-posts-ajax").length&&(e=r.extend({minimumInputLength:1,ajax:{url:c,dataType:"json",delay:250,data:function(t){return{action:"vp_find_posts",q:t.term,post_type:!!a&&a.val(),nonce:s.nonce}},processResults:function(t){return{results:!(!t||!t.length)&&t}},cache:!0},escapeMarkup:function(t){return t},templateResult:function(t){if(t.loading)return t.text;var e="";t.title&&(e=t.title);var a="";t.post_type&&(a=t.post_type);var n="";return t.img&&(n="style=\"background-image: url('".concat(t.img,"');\"")),"".concat('<div class="vp-select2-ajax__result"><div class="vp-select2-ajax__result-img" ').concat(n,"></div>")+'<div class="vp-select2-ajax__result-data">'+'<div class="vp-select2-ajax__result-title">'.concat(e,"</div>")+'<div class="vp-select2-ajax__result-post-type">'.concat(a,"</div>")+"</div></div>"},templateSelection:function(t){return t.title||t.text}},e)),t.closest(".vp-select2-taxonomies-ajax").length&&(e=r.extend({minimumInputLength:1,ajax:{url:c,dataType:"json",delay:250,data:function(t){return{action:"vp_find_taxonomies",q:t.term,post_type:!!a&&a.val(),nonce:s.nonce}},processResults:function(t){var e=[];return t&&Object.keys(t).forEach(function(a){e.push({text:a,children:t[a]})}),{results:e}},cache:!0}},e)),t.select2(e).data("select2").$dropdown.addClass("select2-vp-container")});var S=r(".vp-control-gallery"),O=0;function z(t,e){var a=t.find('[data-image-id="'+e+'"]'),n={id:e};return a.find("[data-additional]").each(function(){var t=r(this),e=t.attr("data-additional");if(n[e]=t.html(),"true"===t.attr("data-to-json"))try{n[e]=JSON.parse(n[e])}catch(t){n[e]=""}}),n}function E(t){var e=[];t.children(".vp-control-gallery-items").find(".vp-control-gallery-items-img").each(function(){e.push(z(t,r(this).attr("data-image-id")))});var a=JSON.stringify(e),n=t.children("textarea");a!==n.val()&&n.val(a).change()}function M(t,e){var a=t.children("textarea").attr("name"),n=t.children(".vp-control-gallery-additional-data"),i=n.children(".vp-control-gallery-additional-data-preview"),l=t.children(".vp-control-gallery-items").find('.vp-control-gallery-items-img[data-image-id="'+e+'"]'),c=z(t,e),s=function(t,e){var a=t.find('[data-image-id="'+e+'"]'),n={};return a.find("[data-meta]").each(function(){n[r(this).attr("data-meta")]=r(this).html()}),n}(t,e);c&&Object.keys(c).forEach(function(e){var i=n.find('[name="'+a+"_additional_"+e+'"], [name="'+a+"_additional_"+e+'[]"]').val(c[e]||"");if(i.hasClass("vp-select2")){if(i.hasClass("vp-select2-tags")){var l=[],s=[];t.children(".vp-control-gallery-items").find(".vp-control-gallery-items-img").each(function(){var a=z(t,r(this).attr("data-image-id"));a&&void 0!==a[e]&&a[e]&&(l=o(new Set([].concat(o(l),o(a[e])))))}),l.forEach(function(t){s.push(new window.Option(t,t,!1,!1))}),i.html(s.length?s:""),i.val(void 0!==c[e]&&c[e]?c[e]:"")}i.trigger("change")}}),i.find(".vp-control-gallery-additional-data-preview-image img").attr("src",l.children("img").attr("src")||""),i.find(".vp-control-gallery-additional-data-preview-name").html(s.filename),i.find(".vp-control-gallery-additional-data-preview-size").html(s.width+"x"+s.height+" ("+s.filesizeHumanReadable+")"),i.find(".vp-control-gallery-additional-data-preview-edit a").attr("href",s.editLink.replace("&amp;","&")),l.siblings().removeClass("active"),l.addClass("active"),n.addClass("active"),O=S.find(".vp-control-gallery-additional-data.active").length}if(r.fn.sortable&&(S.each(function(){var t=r(this),e=t.children(".vp-control-gallery-items-default");t.children(".vp-control-gallery-items").sortable({animation:150,draggable:".vp-control-gallery-items-img",onUpdate:function(){E(t)}}),t.on("click",".vp-control-gallery-items-remove",function(e){e.preventDefault(),r(this).parent().remove(),E(t)}),t.on("click",".vp-control-gallery-items-add",function(a){a.preventDefault();var n=t.data("wp-frame");n?n.open():wp.media?(n=wp.media({title:"Select or Upload Images",button:{text:"Add images"},multiple:!0,library:{type:"image"}}),t.data("wp-frame",n),n.on("select",function(){var a=n.state().get("selection").models;a&&a.length&&(a.forEach(function(a){var n=a.attributes.url;a.attributes.sizes&&a.attributes.sizes.thumbnail&&(n=a.attributes.sizes.thumbnail.url);var i=e.children().clone();i.attr("data-image-id",a.id),i.children("img").attr("src",n),i.find('[data-meta="width"]').html(a.attributes.width),i.find('[data-meta="height"]').html(a.attributes.height),i.find('[data-meta="filename"]').html(a.attributes.filename),i.find('[data-meta="editLink"]').html(a.attributes.editLink),i.find('[data-meta="filesizeHumanReadable"]').html(a.attributes.filesizeHumanReadable),a.attributes.title&&i.find('[data-additional="title"]').html(a.attributes.title),a.attributes.description&&i.find('[data-additional="description"]').html(a.attributes.description),t.find(".vp-control-gallery-items-add").before(i)}),E(t))}),n.open()):console.error("Can't access wp.media object.")}),t.on("click",".vp-control-gallery-items-img",function(e){e.preventDefault(),M(t,r(this).attr("data-image-id"))}),t.on("change input",".vp-control-gallery-additional-data [name]",Object(n.a)(200,function(){var e=t.children(".vp-control-gallery-additional-data"),a=t.children("textarea").attr("name"),n=t.children(".vp-control-gallery-items").find(".vp-control-gallery-items-img.active").attr("data-image-id");if(n){var o=t.children(".vp-control-gallery-items").find('[data-image-id="'+n+'"]');e.find('[name*="'+a+'_additional_"]').each(function(){var t=r(this).attr("name").replace(a+"_additional_","").replace("[]",""),e=r(this).val()||"";"object"===i(e)&&(e=JSON.stringify(e)),o.find('[data-additional="'+t+'"]').html(e||"")}),E(t)}}))}),S.length)){var A=S.children(".vp-control-gallery-additional-data");r(document).on("mousedown",function(t){if(O){var e=t.target;r(e).closest(".vp-control-gallery-additional-data, .vp-control-gallery-items-img, .select2-vp-container").length||(A.removeClass("active"),S.children(".vp-control-gallery-items").find(".vp-control-gallery-items-img.active").removeClass("active"),O=S.find(".vp-control-gallery-additional-data.active").length)}})}var L=r('[name="vp_custom_css"]'),T=!1,$=!0;function P(t,e){if($&&(e=!1,$=!1),s&&s.css_editor_error_notice){var a=!1;if(1===t.length?a=s.css_editor_error_notice.singular.replace("%d","1"):t.length>1&&(a=s.css_editor_error_notice.plural.replace("%d",String(t.length))),a){var n=L.prev("#vp_custom_css_notice");if(n.length||e||(n=r('<div class="notice notice-error inline" id="vp_custom_css_notice"></div>'),L.before(n)),!n.length)return;var i='<p class="notification-message">'.concat(a,"</p>")+'<p><input id="vp_custom_css_notice_prevent" type="checkbox">'+'<label for="vp_custom_css_notice_prevent">'.concat(s.css_editor_error_checkbox,"</label>")+"</p>";n.html(i)}else L.prev("#vp_custom_css_notice").remove()}}if(void 0!==d&&L.length){var R=function(t){N.css("height",Math.max(200,F+t.originalEvent.y-U)),Q.setSize(null,Math.max(200,F+t.y-U)+"px")},D=function t(){v.off("mousemove",R),v.off("mouseup",t)};if(s&&s.classnames){var I=d.hint.css;d.hint.css=function(t){var e=t.getCursor(),a=I(t)||{from:e,to:t.getCursor(),list:[]},n=t.getTokenAt(e);return"top"===n.state.state&&0===n.string.indexOf(".")&&(a={from:d.Pos(e.line,n.start),to:d.Pos(e.line,n.end),list:[]},s.classnames.forEach(function(t){-1!==t.indexOf(n.string)&&a.list.push(t)})),a}}var Q=d.fromTextArea(L[0],{mode:"css",theme:"eclipse",indentUnit:4,autoCloseTags:!0,autoCloseBrackets:!0,matchBrackets:!0,foldGutter:!0,lint:{options:{errors:!0,"box-model":!0,"display-property-grouping":!0,"duplicate-properties":!0,"known-properties":!0,"outline-none":!0},onUpdateLinting:function(t,e,a){var n=[];t.forEach(function(t){"error"===t.severity&&n.push(t)}),a.vcLintErrors=n,T||P(a.vcLintErrors,!0)}},lineNumbers:!0,lineWrapping:!0,scrollPastEnd:!0,emmet_active:!0,emmet:!0,styleActiveLine:!0,continueComments:!0,scrollbarStyle:"simple",extraKeys:{"Ctrl-Space":"autocomplete","Ctrl-/":"toggleComment","Cmd-/":"toggleComment","Alt-F":"findPersistent"},gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]});p(Q),L.data("CodeMirrorInstance",Q),Q.on("change",function(){Q.save(),L.change()}),Q.on("keyup",function(t,e){var a=/^[a-zA-Z]$/.test(e.key);if(!t.state.completionActive||!a){var n=t.getTokenAt(t.getCursor());if("string"!==n.type&&"comment"!==n.type){var i=t.doc.getLine(t.doc.getCursor().line).substr(0,t.doc.getCursor().ch);(a||":"===e.key||" "===e.key&&/:\s+$/.test(i))&&t.showHint({completeSingle:!1})}}});var U,F,H=r(".CodeMirror-resizer").after(L),N=H.prev(".CodeMirror");H.on("mousedown",function(t){U=t.originalEvent.y,F=N.height(),v.on("mousemove",R),v.on("mouseup",D)})}var q=!1;v.on("click","#publish:not(.disabled)",function(t){if(q=!0,!T){var e=r(this),a=L.length&&L.data("CodeMirrorInstance");a&&a.vcLintErrors&&a.vcLintErrors.length&&(t.preventDefault(),e.addClass("disabled button-disabled button-primary-disabled"),setTimeout(function(){e.removeClass("disabled button-disabled button-primary-disabled")},1500),P(a.vcLintErrors,!1),r("html,body").animate({scrollTop:r("#vp_custom_css").offset().top-100},300),a.focus(),a.setCursor(a.vcLintErrors[0].from.line))}});var J=f.serialize();r(window).on("beforeunload",function(){if(!q)return J!==f.serialize()||void 0;q=!1}),v.on("change","#vp_custom_css_notice_prevent",function(){T=!0,r(this).closest(".notice").slideUp()})}});